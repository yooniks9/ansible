---
- hosts: vm
  gather_facts: False
  become: True
  
  pre_tasks:
    - name: Update all packages to the latest version
      apt:
        update_cache: yes
        upgrade: dist
        autoclean: yes
        autoremove: yes
        force_apt_get: yes
  
  roles:
    - { role: swapfile, swapfile_size: 1GB, swapfile_file: /swapfile, tags: [swapfile], swapfile_swappiness: 10, swapfile_vfs_cache_pressure: 50 }
    - { role: shell, shell_user: ubuntu, shell_theme: tjkirch }
    - { role: docker, docker_compose_version: "1.24.0", docker_users: ubuntu }