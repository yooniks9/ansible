---
- hosts: vm
  gather_facts: False
  become: True
  vars:
    system_user: 'ubuntu'
    ansible_distribution_release: bionic 
    swapfile_size: 1GB 
    php_mod: "apache2"
    mysql_password: "MYSQLPASSWORD"
    domain: YOURDOMAINNAME.com
    subdomain: www.YOURDOMAINNAME.com
    ssl: True
    email: support@YOURDOMAINNAME.com
  
  pre_tasks:
    - name: Update all packages to the latest version
      apt:
        update_cache: yes
        upgrade: dist
        autoclean: yes
        autoremove: yes
        force_apt_get: yes
  
  roles:
    - { role: base }
    - { role: swapfile }
    - { role: shell }
    - { role: apache }
    - { role: php }
    - { role: docker }
    - { role: mariadb }
    - { role: letsencrypt }
    - { role: apache-site }